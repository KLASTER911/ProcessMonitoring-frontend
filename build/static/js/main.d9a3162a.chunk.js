(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{174:function(t,e,n){},175:function(t,e,n){},317:function(t,e,n){"use strict";n.r(e);var s=n(44),c=n.n(s),a=n(141),r=n.n(a),o=(n(174),n(142)),i=n(143),l=n(144),u=n(164),b=(n(175),n(319)),d=n(161),j=n(162),h=n(323),m=n(64),O=n(61),x=n(165),p=n(11),g="".concat("http://192.168.0.218",":").concat(3030),f=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={items:[]},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.getStatuses(),setInterval((function(){return t.getStatuses()}),5e3)}},{key:"getStatuses",value:function(){var t=this;fetch("".concat(g,"\\data"),{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.setState({items:e}),console.log("response",e)}));console.log("state:",this.state.items)}},{key:"manageNode",value:function(t){console.log("body",t),fetch("".concat(g,"\\data"),{method:"POST",mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},{key:"allProcessJSON",value:function(t){var e=[];return this.state.items.forEach((function(n){e.push({process:n.process,action:t})})),e}},{key:"getProcData",value:function(t){return Object(p.jsxs)(b.a,{width:600,height:300,margin:{top:5,right:30,left:20,bottom:5},children:[Object(p.jsx)(d.a,{dataKey:"name"}),Object(p.jsx)(j.a,{}),Object(p.jsx)(h.a,{strokeDasharray:"3 3"}),Object(p.jsx)(m.a,{}),Object(p.jsx)(O.a,{}),Object(p.jsx)(x.a,{data:[{name:"Page A",uv:4e3},{name:"Page B",uv:3e3},{name:"Page C",uv:2e3},{name:"Page D",uv:2780},{name:"Page E",uv:1890}],type:"monotone",dataKey:"uv",stroke:"#8884d8",activeDot:{r:8}})]})}},{key:"tbString",value:function(t,e){var n=this;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e+1}),Object(p.jsx)("td",{children:t.process}),Object(p.jsx)("td",{style:{color:"stopped"===t.status?"red":"green"},children:t.status}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{class:"btn mx-1 btn-outline-success",onClick:function(){return n.manageNode([{process:String(t.process),action:"start"}])},children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c"}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-danger",onClick:function(){return n.manageNode([{process:String(t.process),action:"stop"}])},children:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-dark",onClick:function(){return n.manageNode([{process:String(t.process),action:"restart"}])},children:"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c"})]})]},e)}},{key:"render",value:function(){var t=this;return Object(p.jsxs)("div",{className:"tb posleft",children:[Object(p.jsxs)("table",{className:"table table-bordered",children:[Object(p.jsx)("thead",{className:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"\u2116"}),Object(p.jsx)("th",{children:"NodeName"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{children:this.state.items.map((function(e,n){return t.tbString(e,n)}))})]}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-success",onClick:function(){return t.manageNode(t.allProcessJSON("start"))},children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u043e\u0434\u044b"}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-danger",onClick:function(){return t.manageNode(t.allProcessJSON("stop"))},children:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u043e\u0434\u044b"}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-dark",onClick:function(){return t.manageNode(t.allProcessJSON("restart"))},children:"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u043e\u0434\u044b"}),Object(p.jsx)("button",{class:"btn mx-1 btn-outline-primary",onClick:function(){return t.getStatuses()},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u043d\u043e\u0434"}),Object(p.jsx)("div",{children:this.getProcData()})]})}}]),n}(s.Component);var v=function(){return Object(p.jsx)("div",{className:"ProcessTable",children:Object(p.jsx)(f,{})})};n(316);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.d9a3162a.chunk.js.map